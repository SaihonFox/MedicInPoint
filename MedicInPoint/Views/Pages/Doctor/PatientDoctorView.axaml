<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 xmlns:vm="using:MedicInPoint.ViewModels.Pages.Doctor"
			 xmlns:drawer="using:MedicInPoint.Views.UserControls.Drawers"
			 xmlns:medic="https://github.com/saihonfox"
			 xmlns:i="clr-namespace:Avalonia.Xaml.Interactivity;assembly=Avalonia.Xaml.Interactivity"
			 xmlns:bh="using:TestAutoCompleteBehavior.Behaviors"
			 mc:Ignorable="d"
			 d:DesignWidth="1500" d:DesignHeight="1000"
			 x:Class="MedicInPoint.Views.Pages.Doctor.PatientDoctorView"
			 x:DataType="vm:PatientDoctorViewModel">
	<Design.DataContext>
		<vm:PatientDoctorViewModel />
	</Design.DataContext>

	<Grid>
		<Grid>
			<Button Classes="back" Command="{CompiledBinding BackCommand}" Margin="30,45,0,0" HorizontalAlignment="Left" />

			<Grid ColumnDefinitions="300,*,300" Margin="25,100">
				<AutoCompleteBox Grid.Column="0" Name="acb" Classes="search" Text="{CompiledBinding SearchText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsDropDownOpen="False" Watermark="Искать пациента" FilterMode="ContainsOrdinal" HorizontalAlignment="Stretch" VerticalAlignment="Top" Width="300" Height="50">
					<i:Interaction.Behaviors>
						<bh:AutoCompleteZeroMinimumPrefixLengthDropdownBehavior />
					</i:Interaction.Behaviors>
				</AutoCompleteBox>

				<Grid Grid.Column="1" ColumnDefinitions="auto,20,auto" HorizontalAlignment="Center" VerticalAlignment="Top" Height="50">
					<RadioButton Classes="ac" Grid.Column="0" GroupName="a_c_group" Name="analyses_results_rb"
								 IsChecked="True"
								 Content="Результаты анализов"
								 HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
								 HorizontalAlignment="Right"
								 Height="50" />
					<RadioButton Classes="ac" Grid.Column="2" GroupName="a_c_group" Name="chat_rb"
								 Content="Чат"
								 HorizontalContentAlignment="Center" VerticalContentAlignment="Center"
								 HorizontalAlignment="Left"
								 Height="50" />
				</Grid>
			</Grid>

			<Grid ColumnDefinitions="300,25,*,25,300" Margin="25,175,25,25">
				<Border Grid.Column="0" Classes="drawerbg" ClipToBounds="False" Padding="6">
					<Grid>
						<ListBox ClipToBounds="False" ItemsSource="{CompiledBinding Patients}" Background="Transparent" SelectionMode="Single" SelectedIndex="{CompiledBinding SelectedPatientIndex, Mode=TwoWay}" SelectedItem="{CompiledBinding SelectedPatient, Mode=TwoWay}" Padding="0" HorizontalAlignment="Stretch" VerticalAlignment="Top">
							<ListBox.ItemsPanel>
								<ItemsPanelTemplate>
									<StackPanel ClipToBounds="False" Orientation="Vertical" />
								</ItemsPanelTemplate>
							</ListBox.ItemsPanel>
							<ListBox.Styles>
								<Styles>
									<Style Selector="ListBoxItem">
										<Setter Property="Padding" Value="10" />
										<Setter Property="ClipToBounds" Value="False" />
										<Setter Property="Transitions">
											<Transitions>
												<TransformOperationsTransition Property="RenderTransform" Duration="0:0:.075" />
											</Transitions>
										</Setter>
									</Style>
									<Style Selector="ListBoxItem /template/ ContentPresenter#PART_ContentPresenter">
										<Setter Property="ClipToBounds" Value="False" />
										<Setter Property="Background" Value="Transparent" />
									</Style>
									<Style Selector="ListBoxItem:pointerover /template/ ContentPresenter#PART_ContentPresenter">
										<Setter Property="ClipToBounds" Value="False" />
										<Setter Property="Background" Value="Transparent" />
										<Setter Property="Effect">
											<DropShadowEffect Color="#E4E8F5" BlurRadius="20" OffsetX="0" OffsetY="0" />
										</Setter>
										<Setter Property="RenderTransform" Value="scale(1.02)" />
									</Style>
									<Style Selector="ListBoxItem:selected /template/ ContentPresenter#PART_ContentPresenter">
										<Setter Property="ClipToBounds" Value="False" />
										<Setter Property="Background" Value="Transparent" />
										<Setter Property="Effect">
											<DropShadowEffect Color="#BFBEBE" BlurRadius="20" OffsetX="0" OffsetY="0" />
										</Setter>
									</Style>
								</Styles>
							</ListBox.Styles>
							<ListBox.ItemTemplate>
								<DataTemplate>
									<Border ClipToBounds="False" CornerRadius="16" Background="#F5F5F9" Padding="10">
										<Grid ColumnDefinitions="auto,5,*">
											<Border Grid.Column="0" CornerRadius="100" Background="#1A6FEE" IsVisible="{CompiledBinding Sex, Converter={x:Static ObjectConverters.Equal}, ConverterParameter=Мужской}" Width="5" />
											<Border Grid.Column="0" CornerRadius="100" Background="#FF47CA" IsVisible="{CompiledBinding Sex, Converter={x:Static ObjectConverters.Equal}, ConverterParameter=Женский}" Width="5" />
											<TextBlock Grid.Column="2" Text="{CompiledBinding FullName}" FontSize="20" TextAlignment="Center" TextWrapping="WrapWithOverflow" Padding="0" VerticalAlignment="Center" />
										</Grid>
									</Border>
								</DataTemplate>
							</ListBox.ItemTemplate>
						</ListBox>
						<TextBlock IsVisible="{Binding Patients, Converter={x:Static ObjectConverters.Equal}, ConverterParameter=0}" Text="Данные пусты" FontSize="30" HorizontalAlignment="Center" VerticalAlignment="Center" />
					</Grid>
				</Border>

				<drawer:PatientDrawerView Grid.Column="5" DataContext="{CompiledBinding SelectedPatient}" HorizontalAlignment="Right" Width="0" />
				<!-- <Border Grid.Column="5" Classes="drawerbg" Padding="16">
					<Grid RowDefinitions="auto,10,auto,10,*,10,auto">
						<TextBlock Grid.Row="0" Text="{CompiledBinding SelectedPatient.FullName}" FontSize="30" TextAlignment="Center" TextWrapping="WrapWithOverflow" />
						<Border Grid.Row="2" Background="#DBDBDC" CornerRadius="100" Height="1" />

						<StackPanel Grid.Row="4" Orientation="Vertical" Spacing="10">
							<medic:Pill Value="{CompiledBinding SelectedPatient.Sex}" Title="Пол" />
							<medic:Pill Value="{CompiledBinding SelectedPatient.Phone}" Title="Номер телефона" />
							<medic:Pill Value="{CompiledBinding SelectedPatient.Passport}" Title="Паспорт" />
							<medic:Pill Value="{CompiledBinding SelectedPatient.Birthday}" Title="Дата рождения" />
						</StackPanel>
					</Grid>
				</Border> -->
			</Grid>
		</Grid>
	</Grid>
</UserControl>